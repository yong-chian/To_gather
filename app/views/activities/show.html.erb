<div class="activity-details">
<div class="container">
  <div class="row activity-details-each">
    <h2 class="activity-title"><%= @activity.name %></h2>
    <p class="activity-description"><%= @activity.description %></p>
    <p class="activity-host"><strong>Host name:</strong><%= @activity.user.first_name %></p>
    <p class="activity-meeting-location"><strong>Meeting Location:</strong><%= @activity.meeting_location %></p>
    <p class="activity-policies"><strong>Policies:</strong><%= @activity.policies %></p>
    <p class="activity-price"><strong>Price:</strong> <%= humanized_money_with_symbol(@activity.price) %></p>
  </div>
</div>

  <div class="activity-photos text-center">
    <%# <h2 class="activity-photo-title">Photos</h2> %>
    <% @activity.photos.each do |photo| %>
      <%= cl_image_tag photo.key, height: 300, width: 400, crop: :fill %>
    <% end %>
  </div>

<div class="container">
  <div class="row booking-activity-form">
      <div class="col">
      <h1>New booking</h1>
      <%= render "/bookings/form", activity: @activity, booking: @booking %>
      </div>
  </div>
</div>
<br>

<div class="map">
  <h3>Where to meet?</h3>
  <div data-controller="map"
        id='map'
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
        data-map-markers-value="<%= @marker.to_json %>"
        style='width: 100%; height: 400px;'>
</div>

<div class="container">
  <div class="row faqs">
      <div class="faqs-each">
        <h2>FAQs from the Community</h2>
        <ul class="faqs-list">
          <% @activity.faqs.each do |faq| %>
            <li>
              <div class="question">
                <strong>Question:</strong> <%= faq.question %>
              </div>
              <div class="answer">
                <strong>Answer:</strong> <%= faq.answer %>
              </div>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
</div>

<div class="container">
  <div class="row faqs">
    <h2>Reviews</h2>
    <% if @participant_reviews.present? %>
      <% @participant_reviews.each do |review| %>
        <div class="review">
          <p><strong>User Name:</strong> <%= review.user_name %></p>
          <p><strong>Rating:</strong> <%= review.activity_rating %></p>
          <p><strong>Content:</strong> <%= review.content %></p>
          <%# <p><%= link_to "Edit", edit_booking_review_path(@booking, review) %></p>
          <%# <p><%= link_to "Delete", booking_review_path(@booking, review), method: :delete, data: { confirm: "Are you sure you want to delete this review?" } %></p>
        </div>
      <% end %>
    <% else %>
      <p>No reviews yet.</p>
    <% end %>
  </div>
</div>

<div>
  <% if policy(@activity).edit? %>
    <%= link_to "Edit this activity", edit_activity_path(@activity) %>
  <% end %>
  <%= link_to "Back to activities", activities_path, class: "btn btn-warning" %>
  <%= button_to "Destroy this activity", @activity, method: :delete if policy(@activity).destroy? %>
</div>
