<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2><%= activity.name %></h2>
    <p><%= activity.description %></p>
    <p><strong>Meeting Location:</strong> <%= activity.meeting_location %></p>
    <p><strong>Policies:</strong> <%= activity.policies %></p>
    <p><strong>Price:</strong> <%= humanized_money_with_symbol(activity.price) %></p>
  </div>
</div>


<script>
  // Get the modal
  var modal = document.getElementById("myModal");

  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  // Get the activity description element in the modal
  var activityDescription = document.getElementById("activity-description");

  // When the user clicks the button, open the modal and set the activity description
  function showPopup(description) {
    modal.style.display = "block";
    activityDescription.innerHTML = description;
  }

  // When the user clicks on <span> (x), close the modal
  span.onclick = function () {
    modal.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>

<% @activities.each do |activity| %>
  <div id="<%= dom_id activity %>" class="activity-card col-sm-3">

    <div class="activity-image-container">
      <div class="activity-card-image" style="background-image: url(<%= cl_image_path activity.photos.sample.key %>)">
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle fa-stack-2x"></i>
          <i class="fa fa-calendar fa-stack-1x fa-inverse" onclick="showPopup('<%= activity.description %>')"></i>
        </span>
      </div>
    </div>

    <div class="activity-details">

      <p class="activity-host">
        <strong>Host name:</strong>
        <%= activity.user.first_name %>
      </p>

      <h2 class="activity-name"><%= activity.name %></h2>

      <p class="activity-description"><%= activity.description %></p>

      <p class="activity-meeting-location">
        <strong>Meeting Location:</strong> <%= activity.meeting_location %>
      </p>

      <p class="activity-policies">
        <strong>Policies:</strong> <%= activity.policies %>
      </p>

      <p class="activity-price">
        <strong>Price:</strong> <%= humanized_money_with_symbol(activity.price) %></p>
      </p>

      <div class="activity-buttons">
        <%= link_to "View Activity", activity_path(activity), class: "btn btn-primary" %>
      </div>

    </div>

  </div>
<% end %>
